<html lang="en">
<head>
<!--    <title>My Socket IO Project</title>-->
    <title>Socket Combine Chat App</title>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>
<body>

<!-- ===============================send data client to server ======================================-->

<!--
<input type="text" id="name">
<button onclick="send()" id="send">Send</button><br>
<input type="text" id="customName"><button onclick="sendByCustomEvent()" id="customsend">Custom Send</button>
-->

<!-- ====================================================================================================== -->

<!--<h1  id="textMessage">Hello ! Server Is Running</h1><br>-->
<!--<h1>Now Time Is: <span id="clockTime"></span></h1>-->

<!-- ============================Broadcasting data====================================================-->

<!--<h1>This is Broadcasting Data: <span id="brodcasting"></span></h1>-->

<!-- ============================Namespace Broadcasting data================================================ -->

<!--<h1>Buy Broadcasting Data: <span id="buyNsp"></span></h1><br>-->
<!--<h1>Sell Broadcasting Data: <span id="sellNsp"></span></h1>-->


<!-- ===============================Chat Application Using Socket============================================ -->

<div class="container">
    <div class="row d-flex justify-content-center">
        <div class="col-md-6 col-12 col-lg-6">
            <ul id="chatHistory"></ul>
        </div>
    </div>
</div>

<div class="container">
    <div class="row d-flex justify-content-center">
        <div class="col-md-6 col-12 col-lg-6">
           <div class="input-group">
               <input type="text" id="message" class="form-control">
               <button class="btn btn-primary" onclick="sendMessage()">Send</button>
           </div>
        </div>
    </div>
</div>




<script src="/socket.io/socket.io.js"></script>
<script>
    let socket = io(); //default connection


    /**============================== Predefine Event Message===============================================
     socket.on('message', function (msg) {
        document.getElementById("clockTime").innerHTML = ""
        document.getElementById("clockTime").innerHTML = msg
    });
     */

    /**========================= Custom Event clock===========================================================
     socket.on('clock', function (msg) {
        document.getElementById("clockTime").innerHTML = ""
        document.getElementById("clockTime").innerHTML = msg
    });
     */

    /**========================== data sent to server===========================================================

     function send() {
     let name = document.getElementById("name").value;

     socket.send(name)
    }

     function sendByCustomEvent() {
     let name = document.getElementById("customName").value;

     socket.emit("customEventMessage",name)
    } */


    /**=================================== Broadcasting=========================================================
     socket.on("broadCastEvent",function (data){
        document.getElementById("brodcasting").innerHTML = ""
        document.getElementById("brodcasting").innerHTML = data
    });
     */


    /**======================namespace broadcasting==================================================

     let buySocket = io("/buy"); //io() method er betore je url seti hosse namespace
     let sellSocket = io("/sell"); //io() method er betore je url seti hosse namespace

    buySocket.on("buyNspEvent", function (data) {
        document.getElementById("buyNsp").innerHTML = ""
        document.getElementById("buyNsp").innerHTML = data
    });

    sellSocket.on("sellNspEvent", function (data) {
        document.getElementById("sellNsp").innerHTML = ""
        document.getElementById("sellNsp").innerHTML = data
    });
     */


    /**============================== socket combine group chat application =================================*/

    function sendMessage(){
        let msg = document.getElementById("message").value;

        socket.emit("msgSend",msg);

        document.getElementById("message").value = null
    }

    socket.on("chatShow",function (msgData){
        let listItem = document.createElement('li');

        listItem.textContent = msgData;

        let chatHistory = document.getElementById("chatHistory");

        chatHistory.appendChild(listItem);
    })

</script>

</body>
</html>